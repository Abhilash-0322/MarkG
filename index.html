<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gojo Satoru - Motion Capture Technique Activation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-content">
            <div class="loading-ring">
                <div class="infinity-symbol">‚àû</div>
            </div>
            <h1>JUJUTSU KAISEN</h1>
            <p class="loading-text">Initializing Cursed Energy...</p>
            <div class="loading-bar">
                <div class="loading-progress"></div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div id="app-container">
        <!-- GitHub Pages Notice -->
        <div id="github-pages-notice" style="display: none;"></div>
        
        <!-- Header -->
        <header id="header">
            <div class="logo">
                <span class="logo-text">‰∫îÊù°ÊÇü</span>
                <span class="logo-subtitle">GOJO SATORU</span>
            </div>
            <div class="status-bar">
                <div class="cursed-energy-meter">
                    <span class="meter-label">CURSED ENERGY</span>
                    <div class="meter-bar">
                        <div class="meter-fill" id="energy-meter"></div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Three.js Canvas Container -->
        <div id="three-container">
            <canvas id="gojo-canvas"></canvas>
            
            <!-- Technique Activation Overlay -->
            <div id="technique-overlay" class="hidden">
                <div class="technique-name" id="technique-name"></div>
                <div class="technique-kanji" id="technique-kanji"></div>
            </div>

            <!-- Domain Expansion Overlay -->
            <div id="domain-overlay" class="hidden">
                <div class="domain-text">
                    <span class="domain-kanji">ÁÑ°ÈáèÁ©∫Âá¶</span>
                    <span class="domain-romaji">MURY≈åK≈™SHO</span>
                    <span class="domain-english">INFINITE VOID</span>
                </div>
            </div>

            <!-- Hollow Purple Overlay -->
            <div id="hollow-purple-overlay" class="hidden">
                <div class="purple-orb"></div>
                <div class="purple-text">ËôöÂºè„ÄåËåà„Äç</div>
            </div>
        </div>

        <!-- Camera Container -->
        <div id="camera-container">
            <video id="camera-feed" autoplay playsinline muted></video>
            <canvas id="pose-canvas"></canvas>
            <div class="camera-frame"></div>
            <div class="gesture-indicator" id="gesture-indicator">
                <span class="gesture-text">DETECTING...</span>
            </div>
        </div>

        <!-- Technique Cards -->
        <div id="technique-cards">
            <div class="technique-card" data-technique="infinity">
                <div class="card-glow"></div>
                <div class="card-content">
                    <div class="card-icon">‚àû</div>
                    <div class="card-name">INFINITY</div>
                    <div class="card-gesture">üôå Both hands up</div>
                </div>
            </div>
            <div class="technique-card" data-technique="blue">
                <div class="card-glow blue"></div>
                <div class="card-content">
                    <div class="card-icon">Ëíº</div>
                    <div class="card-name">CURSED BLUE</div>
                    <div class="card-gesture">üëà Left hand forward</div>
                </div>
            </div>
            <div class="technique-card" data-technique="red">
                <div class="card-glow red"></div>
                <div class="card-content">
                    <div class="card-icon">Ëµ´</div>
                    <div class="card-name">CURSED RED</div>
                    <div class="card-gesture">üëâ Right hand forward</div>
                </div>
            </div>
            <div class="technique-card" data-technique="purple">
                <div class="card-glow purple"></div>
                <div class="card-content">
                    <div class="card-icon">Ëåà</div>
                    <div class="card-name">HOLLOW PURPLE</div>
                    <div class="card-gesture">üôè Hands together</div>
                </div>
            </div>
            <div class="technique-card" data-technique="domain">
                <div class="card-glow domain"></div>
                <div class="card-content">
                    <div class="card-icon">È†ò</div>
                    <div class="card-name">DOMAIN EXPANSION</div>
                    <div class="card-gesture">ü§≤ Both hands out wide</div>
                </div>
            </div>
        </div>

        <!-- Control Panel -->
        <div id="control-panel">
            <button id="start-camera" class="control-btn">
                <span class="btn-icon">üì∑</span>
                <span class="btn-text">START CAMERA</span>
            </button>
            <button id="toggle-blindfold" class="control-btn">
                <span class="btn-icon">üëÅÔ∏è</span>
                <span class="btn-text">REMOVE BLINDFOLD</span>
            </button>
            <button id="camera-help" class="control-btn help-btn" title="Camera not working? Click for help">
                <span class="btn-icon">‚ùì</span>
                <span class="btn-text">HELP</span>
            </button>
        </div>

        <!-- Info Panel -->
        <div id="info-panel">
            <div class="info-item">
                <span class="info-label">SHORTCUTS:</span>
                <span class="info-value">1-5: Techniques | B: Blindfold | A: Auto-Cast | R: Random</span>
            </div>
        </div>

        <!-- Particle Effect Container -->
        <div id="particle-container"></div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands@0.4/hands.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3/camera_utils.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils@0.3/drawing_utils.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" crossorigin="anonymous"></script>
    
    <!-- Script Loading Verification -->
    <script>
        // Verify scripts loaded
        window.addEventListener('load', () => {
            console.log('=== SCRIPT LOADING STATUS ===');
            console.log('THREE.js:', typeof THREE !== 'undefined' ? '‚úÖ' : '‚ùå');
            console.log('MediaPipe Hands:', typeof Hands !== 'undefined' ? '‚úÖ' : '‚ùå');
            console.log('MediaPipe Camera:', typeof Camera !== 'undefined' ? '‚úÖ' : '‚ùå');
            console.log('MediaPipe Drawing:', typeof drawConnectors !== 'undefined' ? '‚úÖ' : '‚ùå');
            console.log('GSAP:', typeof gsap !== 'undefined' ? '‚úÖ' : '‚ùå');
            console.log('Anime.js:', typeof anime !== 'undefined' ? '‚úÖ' : '‚ùå');
            console.log('============================');
            
            if (typeof Hands === 'undefined') {
                console.warn('‚ö†Ô∏è MediaPipe Hands failed to load. Gesture detection will be disabled.');
                console.log('üí° Camera will still work for viewing, but no hand tracking.');
            }
        });
    </script>
    
    <script src="app.js"></script>
</body>
</html>
